/**
 * @license MIT
 * @license http://opensource.org/licenses/MIT Massachusetts Institute of Technology
 * @copyright 2014 Patric Gutersohn
 * @author Patric Gutersohn
 * @example index.html BDT in action.
 * @link http://bdt.gutersohn.biz Documentation
 * @version 1.0.0
 *
 * @summary BDT - Bootstrap Data Tables
 * @description sorting, paginating and search for bootstrap tables
 */
(function(e){"use strict";var t=1;var n=0;var r=0;var i="";var s=null;var o=false;var u="";var a="";e.fn.bdt=function(f,l){function p(t){var n=t;var r=0;t.find("thead th").wrapInner('<span class="sort-element"/>').append(e("<span/>").addClass("sort-icon fa")).each(function(){var i=e(this);var s=i.index();var o=false;var f=true;i.click(function(){if(e(this).find(".sort-icon").hasClass(a)){e(this).find(".sort-icon").removeClass(a).addClass(u)}else{e(this).find(".sort-icon").removeClass(u).addClass(a)}if(r!=s){t.find(".sort-icon").removeClass(a);t.find(".sort-icon").removeClass(u);e(this).find(".sort-icon").toggleClass(a,f)}n.find("td").filter(function(){return e(this).index()===s}).sortElements(function(t,n){return e.text([t])>e.text([n])?o?-1:1:o?1:-1},function(){return this.parentNode});o=!o;r=s})})}function d(){e("#table-nav").remove();i=e("<ul/>");e.each(new Array(n),function(t){var n="";var r=e();if(t+1==1){n="active"}i.append(e("<li/>").addClass(n).data("page",t+1).append(e("<a/>").text(t+1)))});e("#table-footer").addClass("row").append(e("<nav/>").addClass("pull-right").attr("id","table-nav").append(i.addClass("pagination pull-right").prepend(e("<li/>").addClass("disabled").data("page","previous").append(e('<a href="#" />').append(e("<span/>").attr("aria-hidden","true").html("&laquo;")).append(e("<span/>").addClass("sr-only").text("Previous")))).append(e("<li/>").addClass("disabled").data("page","next").append(e('<a href="#" />').append(e("<span/>").attr("aria-hidden","true").html("&raquo;")).append(e("<span/>").addClass("sr-only").text("Next"))))))}function v(t){e("#search").on("keyup",function(){e.each(t.find("tr"),function(){var t=e(this).text().replace(/ /g,"").replace(/(\r\n|\n|\r)/gm,"");var n=e("#search").val();if(t.toLowerCase().indexOf(n.toLowerCase())==-1){e(this).hide().removeClass("search-item")}else{e(this).show().addClass("search-item")}if(n!=""){o=true}else{o=false}});m(t);d();g(t,1)})}function m(e){if(o){n=Math.round(e.children(".search-item").length/r)}else{n=Math.round(e.children("tr").length/r)}if(n==0){n=1}}function g(i,s){if(s=="next"){s=t+1}else if(s=="previous"){s=t-1}t=s;var u=o?i.find(".search-item"):i.find("tr");var a=r*s;var f=a-r;var l=e(".pagination");u.hide();u.slice(f,a).show();l.find("li").removeClass("active disabled");l.find("li:eq("+s+")").addClass("active");if(s==1){l.find("li:first").addClass("disabled")}else if(s==n){l.find("li:last").addClass("disabled")}}var c=e.extend({pageRowCount:10,arrowDown:"fa-angle-down",arrowUp:"fa-angle-up"},f);var h=null;return this.each(function(){s=e(this).addClass("bdt");h=s.find("tbody");r=c.pageRowCount;a=c.arrowDown;u=c.arrowUp;s.before(e("<form/>").addClass("pull-right").attr("role","form").append(e("<div/>").addClass("form-group").append(e("<input/>").addClass("form-control").attr("id","search").attr("placeholder","Search..."))));s.after(e("<div/>").attr("id","table-footer").append(e("<div/>").addClass("pull-left").append(e("<form/>").addClass("form-horizontal").attr("id","page-rows-form").append(e("<label/>").addClass("pull-left control-label").text("Entries per Page:")).append(e("<div/>").addClass("pull-left").append(e("<select/>").addClass("form-control").append(e("<option>",{value:5,text:5})).append(e("<option>",{value:10,text:10,selected:"selected"})).append(e("<option>",{value:15,text:15})).append(e("<option>",{value:20,text:20})).append(e("<option>",{value:25,text:25})))))));if(h.children("tr").length>r){m(h);d();g(h,t)}v(h);p(s,h);e("body").on("click",".pagination li",function(t){var n;if(e(t.target).is("a")){n=e(t.target).parent()}else{n=e(t.target).parent().parent()}var r=n.data("page");if(!n.hasClass("disabled")&&!n.hasClass("active")){g(h,r)}});e("#page-rows-form").on("change",function(){var t=e(this).find("select");r=t.val();m(h);d();g(h,1)})})}})(jQuery)